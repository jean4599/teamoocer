webpackHotUpdate(0,{458:function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var s=r(123),a=i(s),o=r(459),n=i(o),u=r(296),h=i(u),m=r(403),d=a.default.createClass({displayName:"NoticeBoard",getInitialState:function(){return{courseID:this.props.courseID,user:this.props.user,comfirmLinkPhrase:[],members:[]}},componentDidMount:function(){this.memberFire=h.default.database().ref(this.state.courseID+"/_members"),this.memberFire.on("value",this.updateMembers),this.linkphraseFire=h.default.database().ref(this.state.courseID+"/_notice/_link"),this.linkphraseFire.on("value",this.updateComfirmLinkPhrase),this.noticeHistory=h.default.database().ref(this.state.courseID+"/_notice/_history")},removeLinkPhraseComfirm:function(e){console.log("remove: "+e);var t=this.noticeHistory;this.linkphraseFire.child(e).once("value").then(function(e){t.push(e.val())}),this.linkphraseFire.child(e).remove()},updateMembers:function(e){this.setState({members:(0,m.toArray)(e.val())})},updateComfirmLinkPhrase:function(e){this.setState({comfirmLinkPhrase:(0,m.toArray)(e.val())})},addComfirmLinkPhrase:function(e,t){console.log("NoticeBoard: addComfirmLinkPhrase "+e,t);var r=this.state.members;this.linkphraseFire.child(e).update({edge:e,requester:t});var i;for(i=0;i<r.length;i++)r[i].uid!=this.state.user&&this.linkphraseFire.child(e).child(r[i].uid).update({comfirm:!1})},render:function(){var e=this,t=this.state,r=t.comfirmLinkPhrase.map(function(r,i){return a.default.createElement(n.default,{key:r.edge,linkID:r.edge,members:t.members,courseID:t.courseID,user:t.user,removeLinkPhraseComfirm:e.removeLinkPhraseComfirm,changeEdgeToSolidLine:e.props.changeEdgeToSolidLine})});return a.default.createElement("div",null,r)}});t.default=d}});