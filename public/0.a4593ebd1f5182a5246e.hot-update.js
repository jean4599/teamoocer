webpackHotUpdate(0,{458:function(e,t,i){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var s=i(123),a=r(s),o=i(459),n=r(o),u=i(296),h=r(u),m=i(403),l=a.default.createClass({displayName:"NoticeBoard",getInitialState:function(){return{courseID:this.props.courseID,user:this.props.user,comfirmLinkPhrase:[],members:[]}},componentDidMount:function(){this.memberFire=h.default.database().ref(this.state.courseID+"/_members"),this.memberFire.on("value",this.updateMembers),this.linkphraseFire=h.default.database().ref(this.state.courseID+"/_notice/_link"),this.linkphraseFire.on("value",this.updateComfirmLinkPhrase),this.noticeHistory=h.default.database().ref(this.state.courseID+"/_notice/_history")},removeLinkPhraseComfirm:function(e){console.log("remove: "+e);var t=this.noticeHistory;this.linkphraseFire.child(e).once("value").then(function(e){t.push(e.val())}),this.linkphraseFire.child(e).remove()},updateMembers:function(e){var t=(0,m.toArray)(e.val());t.splice(t.indexOf(this.state.user)),this.setState({members:t})},updateComfirmLinkPhrase:function(e){this.setState({comfirmLinkPhrase:(0,m.toArray)(e.val())})},addComfirmLinkPhrase:function(e,t){console.log("NoticeBoard: addComfirmLinkPhrase "+e,t);var i=this.state.members;if(i.length>0){this.linkphraseFire.child(e).update({edge:e,requester:t});var r;for(r=0;r<i.length;r++)this.linkphraseFire.child(e).child(i[r].uid).update({comfirm:!1})}else this.props.changeEdgeToSolidLine(e)},render:function(){var e=this,t=this.state,i=t.comfirmLinkPhrase.map(function(i,r){return a.default.createElement(n.default,{key:i.edge,linkID:i.edge,members:t.members,courseID:t.courseID,user:t.user,removeLinkPhraseComfirm:e.removeLinkPhraseComfirm,changeEdgeToSolidLine:e.props.changeEdgeToSolidLine})});return a.default.createElement("div",null,i)}});t.default=l}});