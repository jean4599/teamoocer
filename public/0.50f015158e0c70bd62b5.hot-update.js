webpackHotUpdate(0,{458:function(e,r,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0});var s=t(123),a=i(s),o=t(459),n=i(o),m=t(296),u=i(m),h=t(403),c=a.default.createClass({displayName:"NoticeBoard",getInitialState:function(){return{courseID:this.props.courseID,user:this.props.user,comfirmLinkPhrase:[],members:[]}},componentDidMount:function(){this.memberFire=u.default.database().ref(this.state.courseID+"/_members"),this.memberFire.on("value",this.updateMembers),this.linkphraseFire=u.default.database().ref(this.state.courseID+"/_notice/_link"),this.linkphraseFire.on("value",this.updateComfirmLinkPhrase),this.noticeHistory=u.default.database().ref(this.state.courseID+"/_notice/_history")},removeLinkPhraseComfirm:function(e){console.log("remove: "+e);var r=this.noticeHistory;this.linkphraseFire.child(e).once("value").then(function(e){r.push(e.val())}),this.linkphraseFire.child(e).remove()},updateMembers:function(e){this.setState({members:(0,h.toArray)(e.val())}),members.splice(members.indexOf(this.state.user))},updateComfirmLinkPhrase:function(e){this.setState({comfirmLinkPhrase:(0,h.toArray)(e.val())})},addComfirmLinkPhrase:function(e,r){if(console.log("NoticeBoard: addComfirmLinkPhrase "+e,r),members){this.linkphraseFire.child(e).update({edge:e,requester:r});var t;for(t=0;t<members.length;t++)this.linkphraseFire.child(e).child(members[t].uid).update({comfirm:!1})}},render:function(){var e=this,r=this.state,t=r.comfirmLinkPhrase.map(function(t,i){return a.default.createElement(n.default,{key:t.edge,linkID:t.edge,members:r.members,courseID:r.courseID,user:r.user,removeLinkPhraseComfirm:e.removeLinkPhraseComfirm,changeEdgeToSolidLine:e.props.changeEdgeToSolidLine})});return a.default.createElement("div",null,t)}});r.default=c}});